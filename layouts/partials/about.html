{{ with .Site.Params.about }}
<div class="aside__about">
  {{ with .logo }}<span class="about__logo" role="img">{{ . }}</span>&nbsp;{{
  end }} {{ with .logo_image }}<img
    class="about__logo"
    src="{{ . | absURL }}"
    alt="Logo"
  />{{ end }}
  <h1 class="about__title">{{ .title }}</h1>

  <canvas id="threejs-canvas" style="width: 100%; height: 300px"></canvas>

  {{ with .description }}
  <p class="about__description">{{ . | markdownify }}</p>
  {{ end }}
</div>
{{ end }}

<ul class="aside__social-links">
  {{ range $item := .Site.Params.socialLinks }}
  <li>
    <a
      href="{{ $item.url }}"
      rel="me"
      aria-label="{{ $item.title }}"
      title="{{ $item.title }}"
      ><i class="{{ $item.icon }}" aria-hidden="true"></i></a
    >&nbsp;
  </li>
  {{ end }}
</ul>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
  window.onload = function () {
    const canvas = document.getElementById("threejs-canvas");
    if (!canvas) {
      console.error("Canvas not found");
      return;
    }

    const renderer = new THREE.WebGLRenderer({
      canvas: canvas,
      antialias: true,
      alpha: true,
    });
    renderer.setSize(canvas.clientWidth, canvas.clientHeight);
    renderer.setClearColor(0x000000, 0);

    const scene = new THREE.Scene();

    const camera = new THREE.PerspectiveCamera(
      75,
      canvas.clientWidth / canvas.clientHeight,
      0.1,
      1000
    );
    camera.position.z = 2;

    // Create a simple cube to test rendering
    const geometry = new THREE.BoxGeometry();
    const material = new THREE.MeshBasicMaterial({ color: 0xff0000 });
    const cube = new THREE.Mesh(geometry, material);
    scene.add(cube);

    function animate() {
      requestAnimationFrame(animate);
      cube.rotation.x += 0.001;
      cube.rotation.y += 0.001;
      renderer.render(scene, camera);
    }

    animate();
  };
</script>
